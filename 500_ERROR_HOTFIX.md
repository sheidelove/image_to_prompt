# ğŸš¨ 500 é”™è¯¯çƒ­ä¿®å¤

## ğŸ” é—®é¢˜åŸå› 

**é”™è¯¯**: 500 Internal Server Error (å†æ¬¡å‘ç”Ÿ)

**æ ¹æœ¬åŸå› **:
åˆšæ‰åˆ›å»ºçš„æ ¹è·¯å¾„ `app/page.tsx` ä¸ Next.js å›½é™…åŒ–è·¯ç”±ç»“æ„ `[lang]` å†²çªï¼Œå¯¼è‡´è·¯ç”±è§£æé”™è¯¯ã€‚

**å†²çªè¯´æ˜**:
```
app/
â”œâ”€â”€ page.tsx          â† âŒ ä¸ [lang] è·¯ç”±å†²çª
â”œâ”€â”€ [lang]/
â”‚   â””â”€â”€ page.tsx      â† âœ… æ­£ç¡®çš„å›½é™…åŒ–è·¯ç”±
â””â”€â”€ layout.tsx
```

## âœ… å¿«é€Ÿä¿®å¤

### 1. **åˆ é™¤å†²çªæ–‡ä»¶**
```bash
# åˆ é™¤æ ¹è·¯å¾„é¡µé¢æ–‡ä»¶
rm apps/nextjs/src/app/page.tsx
```

### 2. **ä¿ç•™ä¸­é—´ä»¶é‡å®šå‘**
ä¸­é—´ä»¶å·²æ­£ç¡®é…ç½®æ ¹è·¯å¾„é‡å®šå‘ï¼š
```typescript
// middleware.ts ä¸­çš„é‡å®šå‘é€»è¾‘
if (pathname === '/') {
  const response = NextResponse.redirect(new URL(`/${defaultLocale}`, request.url));
  response.headers.set('x-middleware-redirect', '1');
  return response;
}
```

### 3. **ä¼˜åŒ– 404 é¡µé¢**
```typescript
// æ·»åŠ  'use client' ç¡®ä¿å®¢æˆ·ç«¯æ¸²æŸ“
'use client';
import Link from 'next/link';
```

## ğŸ¯ æ­£ç¡®çš„è·¯ç”±ç»“æ„

ä¿®å¤åçš„è·¯ç”±ç»“æ„ï¼š
```
app/
â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”œâ”€â”€ not-found.tsx        # 404 é¡µé¢
â”œâ”€â”€ [lang]/              # å›½é™…åŒ–è·¯ç”±
â”‚   â”œâ”€â”€ (marketing)/
â”‚   â”‚   â””â”€â”€ page.tsx     # é¦–é¡µ (/zh, /en)
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ api/                 # API è·¯ç”±
â””â”€â”€ admin/               # ç®¡ç†é¡µé¢
```

## ğŸ”§ å·¥ä½œåŸç†

1. **è®¿é—® `/`** â†’ ä¸­é—´ä»¶é‡å®šå‘åˆ° `/zh`
2. **è®¿é—® `/zh`** â†’ åŒ¹é… `[lang]/(marketing)/page.tsx`
3. **è®¿é—®æ— æ•ˆè·¯å¾„** â†’ æ˜¾ç¤º `not-found.tsx`
4. **API è·¯ç”±** â†’ æ­£å¸¸å·¥ä½œ

## âš ï¸ é‡è¦æ•™è®­

åœ¨ Next.js App Router ä¸­ï¼š
- **ä¸è¦åœ¨æ ¹çº§åˆ«åˆ›å»º `page.tsx`** å¦‚æœä½¿ç”¨åŠ¨æ€è·¯ç”± `[lang]`
- **ä½¿ç”¨ä¸­é—´ä»¶å¤„ç†é‡å®šå‘** è€Œä¸æ˜¯æ ¹é¡µé¢
- **é¿å…è·¯ç”±å±‚æ¬¡å†²çª** 

---

**ä¿®å¤æ—¶é—´**: ${new Date().toISOString()}
**çŠ¶æ€**: âœ… çƒ­ä¿®å¤å®Œæˆï¼Œæ­£åœ¨æ¨é€
